schema: rune_catalog.v0

provenance:
  maintained_by: "aal-core"
  seed: 0

runes:
  - rune_id: "gimlet.v0.inspect"
    provides:
      - "ingress.inspect"
      - "ingress.classify"
      - "ingress.roadmap"
      - "ingress.score"
    io:
      in: "GimletIn.v0"
      out: "GimletReport.v0"

  - rune_id: "prov.v0.hash_artifact"
    provides:
      - "provenance.hashing"
    io:
      in: "ArtifactRef.v0"
      out: "ArtifactHash.v0"

  - rune_id: "seed.v0.enforce"
    provides:
      - "determinism.enforce"
      - "provenance.envelope"
    io:
      in: "SeedPolicy.v0"
      out: "SeedReport.v0"

  - rune_id: "ers.v0.route_plan"
    provides:
      - "scheduler.route"
    io:
      in: "RoutePlanIn.v0"
      out: "RoutePlanOut.v0"

  - rune_id: "schema.v0.validate"
    provides:
      - "schema.validate"
    io:
      in: "SchemaValidateIn.v0"
      out: "SchemaValidateOut.v0"

  - id: "aalmanac.v1"
    name: "AALmanac"
    version: "1.0.0"
    lane: "shadow"
    intent: "Extract and track slang drift (single + compound) as deterministic oracle attachments."
    io:
      input_schema: "aal_core.schemas.aalmanac.signal.v1"
      output_schema: "aal_core.schemas.aalmanac.signal.v1"
    capabilities:
      - "analyze"
      - "catalog"
      - "oracle_attachment"
    coupling:
      legal_coupling_layer: "ABX-Runes"
      consumers:
        - "abraxas.oracle"
        - "neon_genie.reader"
    determinism:
      required: true
      golden_tests: true
    notes:
      - "Tokenization contract enforced: single => exactly 1 token; compound => >=2 tokens."
      - "Shadow-only: must never change prediction weights."

  - id: "neon_genie.shadow.generate.v0"
    name: "Neon-Genie Generate"
    version: "0.1.0"
    lane: "shadow"
    realm: "HEL"
    intent: "Process-based generative text synthesis via AAL overlay bridge. Shadow-only, no forecast promotion."
    io:
      input_schema: "neon_genie.generate_input.v0"
      output_schema: "neon_genie.generate_output.v0"
    capabilities:
      - "generate"
      - "text_synthesis"
    coupling:
      legal_coupling_layer: "ABX-Runes"
      opt_in_only: true
    determinism:
      required: true
      golden_tests: true
      invariant_hash_runs: 12
    runtime:
      type: "process"
      entrypoint: "node .aal/overlays/neon_genie/aal_bridge.js"
      io_mode: "stdin_stdout"
      timeout_ms: 5000
    notes:
      - "Process-based overlay with explicit stdin/stdout contract."
      - "SEED enforcement mandatory for deterministic generation."
      - "Returns not_computable on missing required inputs."
      - "No auto-routing; explicit opt-in required via coupling_map."
